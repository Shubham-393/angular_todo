<div class="todo-form-container">
  <h2>{{ editingTodoData ? 'Edit Todo' : 'Add New Todo' }}</h2>

  <form (ngSubmit)="onSubmit()" #todoForm="ngForm" class="form">
    <!-- Title Input -->
    <div class="form-group">
      <label for="title">Title</label>
      <input
        type="text"
        id="title"
        name="title"
        [(ngModel)]="formData.title"
        placeholder="Enter todo title"
        required
        class="form-input"
      />
      <small *ngIf="isFieldInvalid('title')" class="error-message">
        Title is required
      </small>
    </div>

    <!-- Description Input -->
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        name="description"
        [(ngModel)]="formData.description"
        placeholder="Enter todo description (optional)"
        class="form-textarea"
        rows="4"
      ></textarea>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <button
        type="submit"
        class="btn btn-submit"
        [disabled]="!todoForm.valid || isSubmitting"
      >
        {{ isSubmitting ? 'Saving...' : editingTodoData ? 'Update Todo' : 'Add Todo' }}
      </button>

      <button
        *ngIf="editingTodoData"
        type="button"
        class="btn btn-cancel"
        (click)="cancelEdit()"
      >
        Cancel
      </button>
    </div>

    <!-- Success Message -->
    <div *ngIf="successMessage" class="success-message">
      {{ successMessage }}
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
  </form>
</div>
